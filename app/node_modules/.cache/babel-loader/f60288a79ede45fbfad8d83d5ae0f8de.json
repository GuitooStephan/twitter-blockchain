{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConsensusAlgorithm = exports.ConsensusType = exports.Hardfork = exports.Chain = exports.CustomChain = void 0;\n\nvar events_1 = require(\"events\");\n\nvar crc_32_1 = require(\"crc-32\");\n\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\n\nvar chains_1 = require(\"./chains\");\n\nvar hardforks_1 = require(\"./hardforks\");\n\nvar eips_1 = require(\"./eips\");\n\nvar CustomChain;\n\n(function (CustomChain) {\n  /**\n   * Polygon (Matic) Mainnet\n   *\n   * - [Documentation](https://docs.matic.network/docs/develop/network-details/network)\n   */\n  CustomChain[\"PolygonMainnet\"] = \"polygon-mainnet\";\n  /**\n   * Polygon (Matic) Mumbai Testnet\n   *\n   * - [Documentation](https://docs.matic.network/docs/develop/network-details/network)\n   */\n\n  CustomChain[\"PolygonMumbai\"] = \"polygon-mumbai\";\n  /**\n   * Arbitrum Rinkeby Testnet\n   *\n   * - [Documentation](https://developer.offchainlabs.com/docs/public_testnet)\n   */\n\n  CustomChain[\"ArbitrumRinkebyTestnet\"] = \"arbitrum-rinkeby-testnet\";\n  /**\n   * xDai EVM sidechain with a native stable token\n   *\n   * - [Documentation](https://www.xdaichain.com/)\n   */\n\n  CustomChain[\"xDaiChain\"] = \"x-dai-chain\";\n  /**\n   * Optimistic Kovan - testnet for Optimism roll-up\n   *\n   * - [Documentation](https://community.optimism.io/docs/developers/tutorials.html)\n   */\n\n  CustomChain[\"OptimisticKovan\"] = \"optimistic-kovan\";\n  /**\n   * Optimistic Ethereum - mainnet for Optimism roll-up\n   *\n   * - [Documentation](https://community.optimism.io/docs/developers/tutorials.html)\n   */\n\n  CustomChain[\"OptimisticEthereum\"] = \"optimistic-ethereum\";\n})(CustomChain = exports.CustomChain || (exports.CustomChain = {}));\n\nvar Chain;\n\n(function (Chain) {\n  Chain[Chain[\"Mainnet\"] = 1] = \"Mainnet\";\n  Chain[Chain[\"Ropsten\"] = 3] = \"Ropsten\";\n  Chain[Chain[\"Rinkeby\"] = 4] = \"Rinkeby\";\n  Chain[Chain[\"Kovan\"] = 42] = \"Kovan\";\n  Chain[Chain[\"Goerli\"] = 5] = \"Goerli\";\n  Chain[Chain[\"Sepolia\"] = 11155111] = \"Sepolia\";\n})(Chain = exports.Chain || (exports.Chain = {}));\n\nvar Hardfork;\n\n(function (Hardfork) {\n  Hardfork[\"Chainstart\"] = \"chainstart\";\n  Hardfork[\"Homestead\"] = \"homestead\";\n  Hardfork[\"Dao\"] = \"dao\";\n  Hardfork[\"TangerineWhistle\"] = \"tangerineWhistle\";\n  Hardfork[\"SpuriousDragon\"] = \"spuriousDragon\";\n  Hardfork[\"Byzantium\"] = \"byzantium\";\n  Hardfork[\"Constantinople\"] = \"constantinople\";\n  Hardfork[\"Petersburg\"] = \"petersburg\";\n  Hardfork[\"Istanbul\"] = \"istanbul\";\n  Hardfork[\"MuirGlacier\"] = \"muirGlacier\";\n  Hardfork[\"Berlin\"] = \"berlin\";\n  Hardfork[\"London\"] = \"london\";\n  Hardfork[\"ArrowGlacier\"] = \"arrowGlacier\";\n  Hardfork[\"Shanghai\"] = \"shanghai\";\n  Hardfork[\"MergeForkIdTransition\"] = \"mergeForkIdTransition\";\n  Hardfork[\"Merge\"] = \"merge\";\n})(Hardfork = exports.Hardfork || (exports.Hardfork = {}));\n\nvar ConsensusType;\n\n(function (ConsensusType) {\n  ConsensusType[\"ProofOfStake\"] = \"pos\";\n  ConsensusType[\"ProofOfWork\"] = \"pow\";\n  ConsensusType[\"ProofOfAuthority\"] = \"poa\";\n})(ConsensusType = exports.ConsensusType || (exports.ConsensusType = {}));\n\nvar ConsensusAlgorithm;\n\n(function (ConsensusAlgorithm) {\n  ConsensusAlgorithm[\"Ethash\"] = \"ethash\";\n  ConsensusAlgorithm[\"Clique\"] = \"clique\";\n  ConsensusAlgorithm[\"Casper\"] = \"casper\";\n})(ConsensusAlgorithm = exports.ConsensusAlgorithm || (exports.ConsensusAlgorithm = {}));\n/**\n * Common class to access chain and hardfork parameters and to provide\n * a unified and shared view on the network and hardfork state.\n *\n * Use the {@link Common.custom} static constructor for creating simple\n * custom chain {@link Common} objects (more complete custom chain setups\n * can be created via the main constructor and the {@link CommonOpts.customChains} parameter).\n */\n\n\nvar Common =\n/** @class */\nfunction (_super) {\n  __extends(Common, _super);\n  /**\n   *\n   * @constructor\n   */\n\n\n  function Common(opts) {\n    var e_1, _a;\n\n    var _this = this;\n\n    var _b, _c;\n\n    _this = _super.call(this) || this;\n    _this._supportedHardforks = [];\n    _this._eips = [];\n    _this._customChains = (_b = opts.customChains) !== null && _b !== void 0 ? _b : [];\n    _this._chainParams = _this.setChain(opts.chain);\n    _this.DEFAULT_HARDFORK = (_c = _this._chainParams.defaultHardfork) !== null && _c !== void 0 ? _c : Hardfork.Istanbul;\n\n    try {\n      for (var _d = __values(_this._chainParams.hardforks), _e = _d.next(); !_e.done; _e = _d.next()) {\n        var hf = _e.value;\n\n        if (!hf.forkHash) {\n          hf.forkHash = _this._calcForkHash(hf.name);\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    _this._hardfork = _this.DEFAULT_HARDFORK;\n\n    if (opts.supportedHardforks) {\n      _this._supportedHardforks = opts.supportedHardforks;\n    }\n\n    if (opts.hardfork) {\n      _this.setHardfork(opts.hardfork);\n    }\n\n    if (opts.eips) {\n      _this.setEIPs(opts.eips);\n    }\n\n    return _this;\n  }\n  /**\n   * Creates a {@link Common} object for a custom chain, based on a standard one.\n   *\n   * It uses all the {@link Chain} parameters from the {@link baseChain} option except the ones overridden\n   * in a provided {@link chainParamsOrName} dictionary. Some usage example:\n   *\n   * ```javascript\n   * Common.custom({chainId: 123})\n   * ```\n   *\n   * There are also selected supported custom chains which can be initialized by using one of the\n   * {@link CustomChains} for {@link chainParamsOrName}, e.g.:\n   *\n   * ```javascript\n   * Common.custom(CustomChains.MaticMumbai)\n   * ```\n   *\n   * Note that these supported custom chains only provide some base parameters (usually the chain and\n   * network ID and a name) and can only be used for selected use cases (e.g. sending a tx with\n   * the `@ethereumjs/tx` library to a Layer-2 chain).\n   *\n   * @param chainParamsOrName Custom parameter dict (`name` will default to `custom-chain`) or string with name of a supported custom chain\n   * @param opts Custom chain options to set the {@link CustomCommonOpts.baseChain}, selected {@link CustomCommonOpts.hardfork} and others\n   */\n\n\n  Common.custom = function (chainParamsOrName, opts) {\n    var _a;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var baseChain = (_a = opts.baseChain) !== null && _a !== void 0 ? _a : 'mainnet';\n\n    var standardChainParams = __assign({}, Common._getChainParams(baseChain));\n\n    standardChainParams['name'] = 'custom-chain';\n\n    if (typeof chainParamsOrName !== 'string') {\n      return new Common(__assign({\n        chain: __assign(__assign({}, standardChainParams), chainParamsOrName)\n      }, opts));\n    } else {\n      if (chainParamsOrName === CustomChain.PolygonMainnet) {\n        return Common.custom({\n          name: CustomChain.PolygonMainnet,\n          chainId: 137,\n          networkId: 137\n        }, opts);\n      }\n\n      if (chainParamsOrName === CustomChain.PolygonMumbai) {\n        return Common.custom({\n          name: CustomChain.PolygonMumbai,\n          chainId: 80001,\n          networkId: 80001\n        }, opts);\n      }\n\n      if (chainParamsOrName === CustomChain.ArbitrumRinkebyTestnet) {\n        return Common.custom({\n          name: CustomChain.ArbitrumRinkebyTestnet,\n          chainId: 421611,\n          networkId: 421611\n        }, opts);\n      }\n\n      if (chainParamsOrName === CustomChain.xDaiChain) {\n        return Common.custom({\n          name: CustomChain.xDaiChain,\n          chainId: 100,\n          networkId: 100\n        }, opts);\n      }\n\n      if (chainParamsOrName === CustomChain.OptimisticKovan) {\n        return Common.custom({\n          name: CustomChain.OptimisticKovan,\n          chainId: 69,\n          networkId: 69\n        }, __assign({\n          hardfork: Hardfork.Berlin\n        }, opts));\n      }\n\n      if (chainParamsOrName === CustomChain.OptimisticEthereum) {\n        return Common.custom({\n          name: CustomChain.OptimisticEthereum,\n          chainId: 10,\n          networkId: 10\n        }, __assign({\n          hardfork: Hardfork.Berlin\n        }, opts));\n      }\n\n      throw new Error(\"Custom chain \".concat(chainParamsOrName, \" not supported\"));\n    }\n  };\n  /**\n   * Creates a {@link Common} object for a custom chain, based on a standard one. It uses all the `Chain`\n   * params from {@link baseChain} except the ones overridden in {@link customChainParams}.\n   *\n   * @deprecated Use {@link Common.custom} instead\n   *\n   * @param baseChain The name (`mainnet`) or id (`1`) of a standard chain used to base the custom\n   * chain params on.\n   * @param customChainParams The custom parameters of the chain.\n   * @param hardfork String identifier ('byzantium') for hardfork (optional)\n   * @param supportedHardforks Limit parameter returns to the given hardforks (optional)\n   */\n\n\n  Common.forCustomChain = function (baseChain, customChainParams, hardfork, supportedHardforks) {\n    var standardChainParams = Common._getChainParams(baseChain);\n\n    return new Common({\n      chain: __assign(__assign({}, standardChainParams), customChainParams),\n      hardfork: hardfork,\n      supportedHardforks: supportedHardforks\n    });\n  };\n  /**\n   * Static method to determine if a {@link chainId} is supported as a standard chain\n   * @param chainId BN id (`1`) of a standard chain\n   * @returns boolean\n   */\n\n\n  Common.isSupportedChainId = function (chainId) {\n    var initializedChains = (0, chains_1._getInitializedChains)();\n    return Boolean(initializedChains['names'][chainId.toString()]);\n  };\n\n  Common._getChainParams = function (chain, customChains) {\n    var initializedChains = (0, chains_1._getInitializedChains)(customChains);\n\n    if (typeof chain === 'number' || ethereumjs_util_1.BN.isBN(chain)) {\n      chain = chain.toString();\n\n      if (initializedChains['names'][chain]) {\n        var name_1 = initializedChains['names'][chain];\n        return initializedChains[name_1];\n      }\n\n      throw new Error(\"Chain with ID \".concat(chain, \" not supported\"));\n    }\n\n    if (initializedChains[chain]) {\n      return initializedChains[chain];\n    }\n\n    throw new Error(\"Chain with name \".concat(chain, \" not supported\"));\n  };\n  /**\n   * Sets the chain\n   * @param chain String ('mainnet') or Number (1) chain\n   *     representation. Or, a Dictionary of chain parameters for a private network.\n   * @returns The dictionary with parameters set as chain\n   */\n\n\n  Common.prototype.setChain = function (chain) {\n    var e_2, _a;\n\n    if (typeof chain === 'number' || typeof chain === 'string' || ethereumjs_util_1.BN.isBN(chain)) {\n      // Filter out genesis states if passed in to customChains\n      var plainCustomChains = void 0;\n\n      if (this._customChains && this._customChains.length > 0 && Array.isArray(this._customChains[0])) {\n        plainCustomChains = this._customChains.map(function (e) {\n          return e[0];\n        });\n      } else {\n        plainCustomChains = this._customChains;\n      }\n\n      this._chainParams = Common._getChainParams(chain, plainCustomChains);\n    } else if (typeof chain === 'object') {\n      if (this._customChains.length > 0) {\n        throw new Error('Chain must be a string, number, or BN when initialized with customChains passed in');\n      }\n\n      var required = ['networkId', 'genesis', 'hardforks', 'bootstrapNodes'];\n\n      try {\n        for (var required_1 = __values(required), required_1_1 = required_1.next(); !required_1_1.done; required_1_1 = required_1.next()) {\n          var param = required_1_1.value;\n\n          if (chain[param] === undefined) {\n            throw new Error(\"Missing required chain parameter: \".concat(param));\n          }\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (required_1_1 && !required_1_1.done && (_a = required_1.return)) _a.call(required_1);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      this._chainParams = chain;\n    } else {\n      throw new Error('Wrong input format');\n    }\n\n    return this._chainParams;\n  };\n  /**\n   * Sets the hardfork to get params for\n   * @param hardfork String identifier (e.g. 'byzantium') or {@link Hardfork} enum\n   */\n\n\n  Common.prototype.setHardfork = function (hardfork) {\n    var e_3, _a;\n\n    if (!this._isSupportedHardfork(hardfork)) {\n      throw new Error(\"Hardfork \".concat(hardfork, \" not set as supported in supportedHardforks\"));\n    }\n\n    var existing = false;\n\n    try {\n      for (var HARDFORK_CHANGES_1 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_1_1 = HARDFORK_CHANGES_1.next(); !HARDFORK_CHANGES_1_1.done; HARDFORK_CHANGES_1_1 = HARDFORK_CHANGES_1.next()) {\n        var hfChanges = HARDFORK_CHANGES_1_1.value;\n\n        if (hfChanges[0] === hardfork) {\n          if (this._hardfork !== hardfork) {\n            this._hardfork = hardfork;\n            this.emit('hardforkChanged', hardfork);\n          }\n\n          existing = true;\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (HARDFORK_CHANGES_1_1 && !HARDFORK_CHANGES_1_1.done && (_a = HARDFORK_CHANGES_1.return)) _a.call(HARDFORK_CHANGES_1);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    if (!existing) {\n      throw new Error(\"Hardfork with name \".concat(hardfork, \" not supported\"));\n    }\n  };\n  /**\n   * Returns the hardfork based on the block number or an optional\n   * total difficulty (Merge HF) provided.\n   *\n   * An optional TD takes precedence in case the corresponding HF block\n   * is set to `null` or otherwise needs to match (if not an error\n   * will be thrown).\n   *\n   * @param blockNumber\n   * @param td\n   * @returns The name of the HF\n   */\n\n\n  Common.prototype.getHardforkByBlockNumber = function (blockNumber, td) {\n    var e_4, _a;\n\n    blockNumber = (0, ethereumjs_util_1.toType)(blockNumber, ethereumjs_util_1.TypeOutput.BN);\n    td = (0, ethereumjs_util_1.toType)(td, ethereumjs_util_1.TypeOutput.BN);\n    var hardfork = Hardfork.Chainstart;\n    var minTdHF;\n    var maxTdHF;\n    var previousHF;\n\n    try {\n      for (var _b = __values(this.hardforks()), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var hf = _c.value; // Skip comparison for not applied HFs\n\n        if (hf.block === null) {\n          if (td !== undefined && td !== null && hf.td !== undefined && hf.td !== null) {\n            if (td.gte(new ethereumjs_util_1.BN(hf.td))) {\n              return hf.name;\n            }\n          }\n\n          continue;\n        }\n\n        if (blockNumber.gte(new ethereumjs_util_1.BN(hf.block))) {\n          hardfork = hf.name;\n        }\n\n        if (td && hf.td) {\n          if (td.gte(new ethereumjs_util_1.BN(hf.td))) {\n            minTdHF = hf.name;\n          } else {\n            maxTdHF = previousHF;\n          }\n        }\n\n        previousHF = hf.name;\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    if (td) {\n      var msgAdd = \"block number: \".concat(blockNumber, \" (-> \").concat(hardfork, \"), \");\n\n      if (minTdHF) {\n        if (!this.hardforkGteHardfork(hardfork, minTdHF)) {\n          var msg = 'HF determined by block number is lower than the minimum total difficulty HF';\n          msgAdd += \"total difficulty: \".concat(td, \" (-> \").concat(minTdHF, \")\");\n          throw new Error(\"\".concat(msg, \": \").concat(msgAdd));\n        }\n      }\n\n      if (maxTdHF) {\n        if (!this.hardforkGteHardfork(maxTdHF, hardfork)) {\n          var msg = 'Maximum HF determined by total difficulty is lower than the block number HF';\n          msgAdd += \"total difficulty: \".concat(td, \" (-> \").concat(maxTdHF, \")\");\n          throw new Error(\"\".concat(msg, \": \").concat(msgAdd));\n        }\n      }\n    }\n\n    return hardfork;\n  };\n  /**\n   * Sets a new hardfork based on the block number or an optional\n   * total difficulty (Merge HF) provided.\n   *\n   * An optional TD takes precedence in case the corresponding HF block\n   * is set to `null` or otherwise needs to match (if not an error\n   * will be thrown).\n   *\n   * @param blockNumber\n   * @param td\n   * @returns The name of the HF set\n   */\n\n\n  Common.prototype.setHardforkByBlockNumber = function (blockNumber, td) {\n    var hardfork = this.getHardforkByBlockNumber(blockNumber, td);\n    this.setHardfork(hardfork);\n    return hardfork;\n  };\n  /**\n   * Internal helper function to choose between hardfork set and hardfork provided as param\n   * @param hardfork Hardfork given to function as a parameter\n   * @returns Hardfork chosen to be used\n   */\n\n\n  Common.prototype._chooseHardfork = function (hardfork, onlySupported) {\n    if (onlySupported === void 0) {\n      onlySupported = true;\n    }\n\n    if (!hardfork) {\n      hardfork = this._hardfork;\n    } else if (onlySupported && !this._isSupportedHardfork(hardfork)) {\n      throw new Error(\"Hardfork \".concat(hardfork, \" not set as supported in supportedHardforks\"));\n    }\n\n    return hardfork;\n  };\n  /**\n   * Internal helper function, returns the params for the given hardfork for the chain set\n   * @param hardfork Hardfork name\n   * @returns Dictionary with hardfork params\n   */\n\n\n  Common.prototype._getHardfork = function (hardfork) {\n    var e_5, _a;\n\n    var hfs = this.hardforks();\n\n    try {\n      for (var hfs_1 = __values(hfs), hfs_1_1 = hfs_1.next(); !hfs_1_1.done; hfs_1_1 = hfs_1.next()) {\n        var hf = hfs_1_1.value;\n        if (hf['name'] === hardfork) return hf;\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (hfs_1_1 && !hfs_1_1.done && (_a = hfs_1.return)) _a.call(hfs_1);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n\n    throw new Error(\"Hardfork \".concat(hardfork, \" not defined for chain \").concat(this.chainName()));\n  };\n  /**\n   * Internal helper function to check if a hardfork is set to be supported by the library\n   * @param hardfork Hardfork name\n   * @returns True if hardfork is supported\n   */\n\n\n  Common.prototype._isSupportedHardfork = function (hardfork) {\n    var e_6, _a;\n\n    if (this._supportedHardforks.length > 0) {\n      try {\n        for (var _b = __values(this._supportedHardforks), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var supportedHf = _c.value;\n          if (hardfork === supportedHf) return true;\n        }\n      } catch (e_6_1) {\n        e_6 = {\n          error: e_6_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_6) throw e_6.error;\n        }\n      }\n    } else {\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * Sets the active EIPs\n   * @param eips\n   */\n\n\n  Common.prototype.setEIPs = function (eips) {\n    var e_7, _a;\n\n    var _this = this;\n\n    if (eips === void 0) {\n      eips = [];\n    }\n\n    var _loop_1 = function (eip) {\n      if (!(eip in eips_1.EIPs)) {\n        throw new Error(\"\".concat(eip, \" not supported\"));\n      }\n\n      var minHF = this_1.gteHardfork(eips_1.EIPs[eip]['minimumHardfork']);\n\n      if (!minHF) {\n        throw new Error(\"\".concat(eip, \" cannot be activated on hardfork \").concat(this_1.hardfork(), \", minimumHardfork: \").concat(minHF));\n      }\n\n      if (eips_1.EIPs[eip].requiredEIPs) {\n        ;\n        eips_1.EIPs[eip].requiredEIPs.forEach(function (elem) {\n          if (!(eips.includes(elem) || _this.isActivatedEIP(elem))) {\n            throw new Error(\"\".concat(eip, \" requires EIP \").concat(elem, \", but is not included in the EIP list\"));\n          }\n        });\n      }\n    };\n\n    var this_1 = this;\n\n    try {\n      for (var eips_2 = __values(eips), eips_2_1 = eips_2.next(); !eips_2_1.done; eips_2_1 = eips_2.next()) {\n        var eip = eips_2_1.value;\n\n        _loop_1(eip);\n      }\n    } catch (e_7_1) {\n      e_7 = {\n        error: e_7_1\n      };\n    } finally {\n      try {\n        if (eips_2_1 && !eips_2_1.done && (_a = eips_2.return)) _a.call(eips_2);\n      } finally {\n        if (e_7) throw e_7.error;\n      }\n    }\n\n    this._eips = eips;\n  };\n  /**\n   * Returns a parameter for the current chain setup\n   *\n   * If the parameter is present in an EIP, the EIP always takes precendence.\n   * Otherwise the parameter if taken from the latest applied HF with\n   * a change on the respective parameter.\n   *\n   * @param topic Parameter topic ('gasConfig', 'gasPrices', 'vm', 'pow')\n   * @param name Parameter name (e.g. 'minGasLimit' for 'gasConfig' topic)\n   * @returns The value requested or `null` if not found\n   */\n\n\n  Common.prototype.param = function (topic, name) {\n    var e_8, _a; // TODO: consider the case that different active EIPs\n    // can change the same parameter\n\n\n    var value = null;\n\n    try {\n      for (var _b = __values(this._eips), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var eip = _c.value;\n        value = this.paramByEIP(topic, name, eip);\n\n        if (value !== null) {\n          return value;\n        }\n      }\n    } catch (e_8_1) {\n      e_8 = {\n        error: e_8_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_8) throw e_8.error;\n      }\n    }\n\n    return this.paramByHardfork(topic, name, this._hardfork);\n  };\n  /**\n   * Returns the parameter corresponding to a hardfork\n   * @param topic Parameter topic ('gasConfig', 'gasPrices', 'vm', 'pow')\n   * @param name Parameter name (e.g. 'minGasLimit' for 'gasConfig' topic)\n   * @param hardfork Hardfork name\n   * @returns The value requested or `null` if not found\n   */\n\n\n  Common.prototype.paramByHardfork = function (topic, name, hardfork) {\n    var e_9, _a, e_10, _b;\n\n    hardfork = this._chooseHardfork(hardfork);\n    var value = null;\n\n    try {\n      for (var HARDFORK_CHANGES_2 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_2_1 = HARDFORK_CHANGES_2.next(); !HARDFORK_CHANGES_2_1.done; HARDFORK_CHANGES_2_1 = HARDFORK_CHANGES_2.next()) {\n        var hfChanges = HARDFORK_CHANGES_2_1.value; // EIP-referencing HF file (e.g. berlin.json)\n\n        if ('eips' in hfChanges[1]) {\n          var hfEIPs = hfChanges[1]['eips'];\n\n          try {\n            for (var hfEIPs_1 = (e_10 = void 0, __values(hfEIPs)), hfEIPs_1_1 = hfEIPs_1.next(); !hfEIPs_1_1.done; hfEIPs_1_1 = hfEIPs_1.next()) {\n              var eip = hfEIPs_1_1.value;\n              var valueEIP = this.paramByEIP(topic, name, eip);\n              value = valueEIP !== null ? valueEIP : value;\n            }\n          } catch (e_10_1) {\n            e_10 = {\n              error: e_10_1\n            };\n          } finally {\n            try {\n              if (hfEIPs_1_1 && !hfEIPs_1_1.done && (_b = hfEIPs_1.return)) _b.call(hfEIPs_1);\n            } finally {\n              if (e_10) throw e_10.error;\n            }\n          } // Paramater-inlining HF file (e.g. istanbul.json)\n\n        } else {\n          if (!hfChanges[1][topic]) {\n            throw new Error(\"Topic \".concat(topic, \" not defined\"));\n          }\n\n          if (hfChanges[1][topic][name] !== undefined) {\n            value = hfChanges[1][topic][name].v;\n          }\n        }\n\n        if (hfChanges[0] === hardfork) break;\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (HARDFORK_CHANGES_2_1 && !HARDFORK_CHANGES_2_1.done && (_a = HARDFORK_CHANGES_2.return)) _a.call(HARDFORK_CHANGES_2);\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n\n    return value;\n  };\n  /**\n   * Returns a parameter corresponding to an EIP\n   * @param topic Parameter topic ('gasConfig', 'gasPrices', 'vm', 'pow')\n   * @param name Parameter name (e.g. 'minGasLimit' for 'gasConfig' topic)\n   * @param eip Number of the EIP\n   * @returns The value requested or `null` if not found\n   */\n\n\n  Common.prototype.paramByEIP = function (topic, name, eip) {\n    if (!(eip in eips_1.EIPs)) {\n      throw new Error(\"\".concat(eip, \" not supported\"));\n    }\n\n    var eipParams = eips_1.EIPs[eip];\n\n    if (!(topic in eipParams)) {\n      throw new Error(\"Topic \".concat(topic, \" not defined\"));\n    }\n\n    if (eipParams[topic][name] === undefined) {\n      return null;\n    }\n\n    var value = eipParams[topic][name].v;\n    return value;\n  };\n  /**\n   * Returns a parameter for the hardfork active on block number\n   * @param topic Parameter topic\n   * @param name Parameter name\n   * @param blockNumber Block number\n   */\n\n\n  Common.prototype.paramByBlock = function (topic, name, blockNumber) {\n    var activeHfs = this.activeHardforks(blockNumber);\n    var hardfork = activeHfs[activeHfs.length - 1]['name'];\n    return this.paramByHardfork(topic, name, hardfork);\n  };\n  /**\n   * Checks if an EIP is activated by either being included in the EIPs\n   * manually passed in with the {@link CommonOpts.eips} or in a\n   * hardfork currently being active\n   *\n   * Note: this method only works for EIPs being supported\n   * by the {@link CommonOpts.eips} constructor option\n   * @param eip\n   */\n\n\n  Common.prototype.isActivatedEIP = function (eip) {\n    var e_11, _a;\n\n    if (this.eips().includes(eip)) {\n      return true;\n    }\n\n    try {\n      for (var HARDFORK_CHANGES_3 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_3_1 = HARDFORK_CHANGES_3.next(); !HARDFORK_CHANGES_3_1.done; HARDFORK_CHANGES_3_1 = HARDFORK_CHANGES_3.next()) {\n        var hfChanges = HARDFORK_CHANGES_3_1.value;\n        var hf = hfChanges[1];\n\n        if (this.gteHardfork(hf['name']) && 'eips' in hf) {\n          if (hf['eips'].includes(eip)) {\n            return true;\n          }\n        }\n      }\n    } catch (e_11_1) {\n      e_11 = {\n        error: e_11_1\n      };\n    } finally {\n      try {\n        if (HARDFORK_CHANGES_3_1 && !HARDFORK_CHANGES_3_1.done && (_a = HARDFORK_CHANGES_3.return)) _a.call(HARDFORK_CHANGES_3);\n      } finally {\n        if (e_11) throw e_11.error;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * Checks if set or provided hardfork is active on block number\n   * @param hardfork Hardfork name or null (for HF set)\n   * @param blockNumber\n   * @param opts Hardfork options (onlyActive unused)\n   * @returns True if HF is active on block number\n   */\n\n\n  Common.prototype.hardforkIsActiveOnBlock = function (hardfork, blockNumber, opts) {\n    var _a;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    blockNumber = (0, ethereumjs_util_1.toType)(blockNumber, ethereumjs_util_1.TypeOutput.BN);\n    var onlySupported = (_a = opts.onlySupported) !== null && _a !== void 0 ? _a : false;\n    hardfork = this._chooseHardfork(hardfork, onlySupported);\n    var hfBlock = this.hardforkBlockBN(hardfork);\n\n    if (hfBlock && blockNumber.gte(hfBlock)) {\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * Alias to hardforkIsActiveOnBlock when hardfork is set\n   * @param blockNumber\n   * @param opts Hardfork options (onlyActive unused)\n   * @returns True if HF is active on block number\n   */\n\n\n  Common.prototype.activeOnBlock = function (blockNumber, opts) {\n    return this.hardforkIsActiveOnBlock(null, blockNumber, opts);\n  };\n  /**\n   * Sequence based check if given or set HF1 is greater than or equal HF2\n   * @param hardfork1 Hardfork name or null (if set)\n   * @param hardfork2 Hardfork name\n   * @param opts Hardfork options\n   * @returns True if HF1 gte HF2\n   */\n\n\n  Common.prototype.hardforkGteHardfork = function (hardfork1, hardfork2, opts) {\n    var e_12, _a;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var onlyActive = opts.onlyActive === undefined ? false : opts.onlyActive;\n    hardfork1 = this._chooseHardfork(hardfork1, opts.onlySupported);\n    var hardforks;\n\n    if (onlyActive) {\n      hardforks = this.activeHardforks(null, opts);\n    } else {\n      hardforks = this.hardforks();\n    }\n\n    var posHf1 = -1,\n        posHf2 = -1;\n    var index = 0;\n\n    try {\n      for (var hardforks_2 = __values(hardforks), hardforks_2_1 = hardforks_2.next(); !hardforks_2_1.done; hardforks_2_1 = hardforks_2.next()) {\n        var hf = hardforks_2_1.value;\n        if (hf['name'] === hardfork1) posHf1 = index;\n        if (hf['name'] === hardfork2) posHf2 = index;\n        index += 1;\n      }\n    } catch (e_12_1) {\n      e_12 = {\n        error: e_12_1\n      };\n    } finally {\n      try {\n        if (hardforks_2_1 && !hardforks_2_1.done && (_a = hardforks_2.return)) _a.call(hardforks_2);\n      } finally {\n        if (e_12) throw e_12.error;\n      }\n    }\n\n    return posHf1 >= posHf2 && posHf2 !== -1;\n  };\n  /**\n   * Alias to hardforkGteHardfork when hardfork is set\n   * @param hardfork Hardfork name\n   * @param opts Hardfork options\n   * @returns True if hardfork set is greater than hardfork provided\n   */\n\n\n  Common.prototype.gteHardfork = function (hardfork, opts) {\n    return this.hardforkGteHardfork(null, hardfork, opts);\n  };\n  /**\n   * Checks if given or set hardfork is active on the chain\n   * @param hardfork Hardfork name, optional if HF set\n   * @param opts Hardfork options (onlyActive unused)\n   * @returns True if hardfork is active on the chain\n   */\n\n\n  Common.prototype.hardforkIsActiveOnChain = function (hardfork, opts) {\n    var e_13, _a;\n\n    var _b;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var onlySupported = (_b = opts.onlySupported) !== null && _b !== void 0 ? _b : false;\n    hardfork = this._chooseHardfork(hardfork, onlySupported);\n\n    try {\n      for (var _c = __values(this.hardforks()), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var hf = _d.value;\n        if (hf['name'] === hardfork && hf['block'] !== null) return true;\n      }\n    } catch (e_13_1) {\n      e_13 = {\n        error: e_13_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_13) throw e_13.error;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * Returns the active hardfork switches for the current chain\n   * @param blockNumber up to block if provided, otherwise for the whole chain\n   * @param opts Hardfork options (onlyActive unused)\n   * @return Array with hardfork arrays\n   */\n\n\n  Common.prototype.activeHardforks = function (blockNumber, opts) {\n    var e_14, _a;\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var activeHardforks = [];\n    var hfs = this.hardforks();\n\n    try {\n      for (var hfs_2 = __values(hfs), hfs_2_1 = hfs_2.next(); !hfs_2_1.done; hfs_2_1 = hfs_2.next()) {\n        var hf = hfs_2_1.value;\n        if (hf['block'] === null) continue;\n        if (blockNumber !== undefined && blockNumber !== null && blockNumber < hf['block']) break;\n        if (opts.onlySupported && !this._isSupportedHardfork(hf['name'])) continue;\n        activeHardforks.push(hf);\n      }\n    } catch (e_14_1) {\n      e_14 = {\n        error: e_14_1\n      };\n    } finally {\n      try {\n        if (hfs_2_1 && !hfs_2_1.done && (_a = hfs_2.return)) _a.call(hfs_2);\n      } finally {\n        if (e_14) throw e_14.error;\n      }\n    }\n\n    return activeHardforks;\n  };\n  /**\n   * Returns the latest active hardfork name for chain or block or throws if unavailable\n   * @param blockNumber up to block if provided, otherwise for the whole chain\n   * @param opts Hardfork options (onlyActive unused)\n   * @return Hardfork name\n   */\n\n\n  Common.prototype.activeHardfork = function (blockNumber, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var activeHardforks = this.activeHardforks(blockNumber, opts);\n\n    if (activeHardforks.length > 0) {\n      return activeHardforks[activeHardforks.length - 1]['name'];\n    } else {\n      throw new Error(\"No (supported) active hardfork found\");\n    }\n  };\n  /**\n   * Returns the hardfork change block for hardfork provided or set\n   * @param hardfork Hardfork name, optional if HF set\n   * @returns Block number or null if unscheduled\n   * @deprecated Please use {@link Common.hardforkBlockBN} for large number support\n   */\n\n\n  Common.prototype.hardforkBlock = function (hardfork) {\n    var block = this.hardforkBlockBN(hardfork);\n    return (0, ethereumjs_util_1.toType)(block, ethereumjs_util_1.TypeOutput.Number);\n  };\n  /**\n   * Returns the hardfork change block for hardfork provided or set\n   * @param hardfork Hardfork name, optional if HF set\n   * @returns Block number or null if unscheduled\n   */\n\n\n  Common.prototype.hardforkBlockBN = function (hardfork) {\n    hardfork = this._chooseHardfork(hardfork, false);\n\n    var block = this._getHardfork(hardfork)['block'];\n\n    if (block === undefined || block === null) {\n      return null;\n    }\n\n    return new ethereumjs_util_1.BN(block);\n  };\n  /**\n   * Returns the hardfork change total difficulty (Merge HF) for hardfork provided or set\n   * @param hardfork Hardfork name, optional if HF set\n   * @returns Total difficulty or null if no set\n   */\n\n\n  Common.prototype.hardforkTD = function (hardfork) {\n    hardfork = this._chooseHardfork(hardfork, false);\n\n    var td = this._getHardfork(hardfork)['td'];\n\n    if (td === undefined || td === null) {\n      return null;\n    }\n\n    return new ethereumjs_util_1.BN(td);\n  };\n  /**\n   * True if block number provided is the hardfork (given or set) change block\n   * @param blockNumber Number of the block to check\n   * @param hardfork Hardfork name, optional if HF set\n   * @returns True if blockNumber is HF block\n   */\n\n\n  Common.prototype.isHardforkBlock = function (blockNumber, hardfork) {\n    blockNumber = (0, ethereumjs_util_1.toType)(blockNumber, ethereumjs_util_1.TypeOutput.BN);\n    hardfork = this._chooseHardfork(hardfork, false);\n    var block = this.hardforkBlockBN(hardfork);\n    return block ? block.eq(blockNumber) : false;\n  };\n  /**\n   * Returns the change block for the next hardfork after the hardfork provided or set\n   * @param hardfork Hardfork name, optional if HF set\n   * @returns Block number or null if not available\n   * @deprecated Please use {@link Common.nextHardforkBlockBN} for large number support\n   */\n\n\n  Common.prototype.nextHardforkBlock = function (hardfork) {\n    var block = this.nextHardforkBlockBN(hardfork);\n    return (0, ethereumjs_util_1.toType)(block, ethereumjs_util_1.TypeOutput.Number);\n  };\n  /**\n   * Returns the change block for the next hardfork after the hardfork provided or set\n   * @param hardfork Hardfork name, optional if HF set\n   * @returns Block number or null if not available\n   */\n\n\n  Common.prototype.nextHardforkBlockBN = function (hardfork) {\n    hardfork = this._chooseHardfork(hardfork, false);\n    var hfBlock = this.hardforkBlockBN(hardfork);\n\n    if (hfBlock === null) {\n      return null;\n    } // Next fork block number or null if none available\n    // Logic: if accumulator is still null and on the first occurrence of\n    // a block greater than the current hfBlock set the accumulator,\n    // pass on the accumulator as the final result from this time on\n\n\n    var nextHfBlock = this.hardforks().reduce(function (acc, hf) {\n      var block = new ethereumjs_util_1.BN(hf.block);\n      return block.gt(hfBlock) && acc === null ? block : acc;\n    }, null);\n    return nextHfBlock;\n  };\n  /**\n   * True if block number provided is the hardfork change block following the hardfork given or set\n   * @param blockNumber Number of the block to check\n   * @param hardfork Hardfork name, optional if HF set\n   * @returns True if blockNumber is HF block\n   */\n\n\n  Common.prototype.isNextHardforkBlock = function (blockNumber, hardfork) {\n    blockNumber = (0, ethereumjs_util_1.toType)(blockNumber, ethereumjs_util_1.TypeOutput.BN);\n    hardfork = this._chooseHardfork(hardfork, false);\n    var nextHardforkBlock = this.nextHardforkBlockBN(hardfork);\n    return nextHardforkBlock === null ? false : nextHardforkBlock.eq(blockNumber);\n  };\n  /**\n   * Internal helper function to calculate a fork hash\n   * @param hardfork Hardfork name\n   * @returns Fork hash as hex string\n   */\n\n\n  Common.prototype._calcForkHash = function (hardfork) {\n    var e_15, _a;\n\n    var genesis = Buffer.from(this.genesis().hash.substr(2), 'hex');\n    var hfBuffer = Buffer.alloc(0);\n    var prevBlock = 0;\n\n    try {\n      for (var _b = __values(this.hardforks()), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var hf = _c.value;\n        var block = hf.block; // Skip for chainstart (0), not applied HFs (null) and\n        // when already applied on same block number HFs\n\n        if (block !== 0 && block !== null && block !== prevBlock) {\n          var hfBlockBuffer = Buffer.from(block.toString(16).padStart(16, '0'), 'hex');\n          hfBuffer = Buffer.concat([hfBuffer, hfBlockBuffer]);\n        }\n\n        if (hf.name === hardfork) break;\n\n        if (block !== null) {\n          prevBlock = block;\n        }\n      }\n    } catch (e_15_1) {\n      e_15 = {\n        error: e_15_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_15) throw e_15.error;\n      }\n    }\n\n    var inputBuffer = Buffer.concat([genesis, hfBuffer]); // CRC32 delivers result as signed (negative) 32-bit integer,\n    // convert to hex string\n\n    var forkhash = (0, ethereumjs_util_1.intToBuffer)((0, crc_32_1.buf)(inputBuffer) >>> 0).toString('hex');\n    return \"0x\".concat(forkhash);\n  };\n  /**\n   * Returns an eth/64 compliant fork hash (EIP-2124)\n   * @param hardfork Hardfork name, optional if HF set\n   */\n\n\n  Common.prototype.forkHash = function (hardfork) {\n    hardfork = this._chooseHardfork(hardfork, false);\n\n    var data = this._getHardfork(hardfork);\n\n    if (data['block'] === null && data['td'] === undefined) {\n      var msg = 'No fork hash calculation possible for future hardfork';\n      throw new Error(msg);\n    }\n\n    if (data['forkHash'] !== undefined) {\n      return data['forkHash'];\n    }\n\n    return this._calcForkHash(hardfork);\n  };\n  /**\n   *\n   * @param forkHash Fork hash as a hex string\n   * @returns Array with hardfork data (name, block, forkHash)\n   */\n\n\n  Common.prototype.hardforkForForkHash = function (forkHash) {\n    var resArray = this.hardforks().filter(function (hf) {\n      return hf.forkHash === forkHash;\n    });\n    return resArray.length >= 1 ? resArray[resArray.length - 1] : null;\n  };\n  /**\n   * Returns the Genesis parameters of the current chain\n   * @returns Genesis dictionary\n   */\n\n\n  Common.prototype.genesis = function () {\n    return this._chainParams['genesis'];\n  };\n  /**\n   * Returns the Genesis state of the current chain,\n   * all values are provided as hex-prefixed strings.\n   */\n\n\n  Common.prototype.genesisState = function () {\n    var e_16, _a; // Use require statements here in favor of import statements\n    // to load json files on demand\n    // (high memory usage by large mainnet.json genesis state file)\n\n\n    switch (this.chainName()) {\n      case 'mainnet':\n        return require('./genesisStates/mainnet.json');\n\n      case 'ropsten':\n        return require('./genesisStates/ropsten.json');\n\n      case 'rinkeby':\n        return require('./genesisStates/rinkeby.json');\n\n      case 'kovan':\n        return require('./genesisStates/kovan.json');\n\n      case 'goerli':\n        return require('./genesisStates/goerli.json');\n\n      case 'sepolia':\n        return require('./genesisStates/sepolia.json');\n    } // Custom chains with genesis state provided\n\n\n    if (this._customChains && this._customChains.length > 0 && Array.isArray(this._customChains[0])) {\n      try {\n        for (var _b = __values(this._customChains), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var chainArrayWithGenesis = _c.value;\n\n          if (chainArrayWithGenesis[0].name === this.chainName()) {\n            return chainArrayWithGenesis[1];\n          }\n        }\n      } catch (e_16_1) {\n        e_16 = {\n          error: e_16_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_16) throw e_16.error;\n        }\n      }\n    }\n\n    return {};\n  };\n  /**\n   * Returns the hardforks for current chain\n   * @returns {Array} Array with arrays of hardforks\n   */\n\n\n  Common.prototype.hardforks = function () {\n    return this._chainParams['hardforks'];\n  };\n  /**\n   * Returns bootstrap nodes for the current chain\n   * @returns {Dictionary} Dict with bootstrap nodes\n   */\n\n\n  Common.prototype.bootstrapNodes = function () {\n    return this._chainParams['bootstrapNodes'];\n  };\n  /**\n   * Returns DNS networks for the current chain\n   * @returns {String[]} Array of DNS ENR urls\n   */\n\n\n  Common.prototype.dnsNetworks = function () {\n    return this._chainParams['dnsNetworks'];\n  };\n  /**\n   * Returns the hardfork set\n   * @returns Hardfork name\n   */\n\n\n  Common.prototype.hardfork = function () {\n    return this._hardfork;\n  };\n  /**\n   * Returns the Id of current chain\n   * @returns chain Id\n   * @deprecated Please use {@link Common.chainIdBN} for large number support\n   */\n\n\n  Common.prototype.chainId = function () {\n    return (0, ethereumjs_util_1.toType)(this.chainIdBN(), ethereumjs_util_1.TypeOutput.Number);\n  };\n  /**\n   * Returns the Id of current chain\n   * @returns chain Id\n   */\n\n\n  Common.prototype.chainIdBN = function () {\n    return new ethereumjs_util_1.BN(this._chainParams['chainId']);\n  };\n  /**\n   * Returns the name of current chain\n   * @returns chain name (lower case)\n   */\n\n\n  Common.prototype.chainName = function () {\n    return this._chainParams['name'];\n  };\n  /**\n   * Returns the Id of current network\n   * @returns network Id\n   * @deprecated Please use {@link Common.networkIdBN} for large number support\n   */\n\n\n  Common.prototype.networkId = function () {\n    return (0, ethereumjs_util_1.toType)(this.networkIdBN(), ethereumjs_util_1.TypeOutput.Number);\n  };\n  /**\n   * Returns the Id of current network\n   * @returns network Id\n   */\n\n\n  Common.prototype.networkIdBN = function () {\n    return new ethereumjs_util_1.BN(this._chainParams['networkId']);\n  };\n  /**\n   * Returns the active EIPs\n   * @returns List of EIPs\n   */\n\n\n  Common.prototype.eips = function () {\n    return this._eips;\n  };\n  /**\n   * Returns the consensus type of the network\n   * Possible values: \"pow\"|\"poa\"|\"pos\"\n   *\n   * Note: This value can update along a hardfork.\n   */\n\n\n  Common.prototype.consensusType = function () {\n    var e_17, _a;\n\n    var hardfork = this.hardfork();\n    var value;\n\n    try {\n      for (var HARDFORK_CHANGES_4 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_4_1 = HARDFORK_CHANGES_4.next(); !HARDFORK_CHANGES_4_1.done; HARDFORK_CHANGES_4_1 = HARDFORK_CHANGES_4.next()) {\n        var hfChanges = HARDFORK_CHANGES_4_1.value;\n\n        if ('consensus' in hfChanges[1]) {\n          value = hfChanges[1]['consensus']['type'];\n        }\n\n        if (hfChanges[0] === hardfork) break;\n      }\n    } catch (e_17_1) {\n      e_17 = {\n        error: e_17_1\n      };\n    } finally {\n      try {\n        if (HARDFORK_CHANGES_4_1 && !HARDFORK_CHANGES_4_1.done && (_a = HARDFORK_CHANGES_4.return)) _a.call(HARDFORK_CHANGES_4);\n      } finally {\n        if (e_17) throw e_17.error;\n      }\n    }\n\n    if (value) {\n      return value;\n    }\n\n    return this._chainParams['consensus']['type'];\n  };\n  /**\n   * Returns the concrete consensus implementation\n   * algorithm or protocol for the network\n   * e.g. \"ethash\" for \"pow\" consensus type,\n   * \"clique\" for \"poa\" consensus type or\n   * \"casper\" for \"pos\" consensus type.\n   *\n   * Note: This value can update along a hardfork.\n   */\n\n\n  Common.prototype.consensusAlgorithm = function () {\n    var e_18, _a;\n\n    var hardfork = this.hardfork();\n    var value;\n\n    try {\n      for (var HARDFORK_CHANGES_5 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_5_1 = HARDFORK_CHANGES_5.next(); !HARDFORK_CHANGES_5_1.done; HARDFORK_CHANGES_5_1 = HARDFORK_CHANGES_5.next()) {\n        var hfChanges = HARDFORK_CHANGES_5_1.value;\n\n        if ('consensus' in hfChanges[1]) {\n          value = hfChanges[1]['consensus']['algorithm'];\n        }\n\n        if (hfChanges[0] === hardfork) break;\n      }\n    } catch (e_18_1) {\n      e_18 = {\n        error: e_18_1\n      };\n    } finally {\n      try {\n        if (HARDFORK_CHANGES_5_1 && !HARDFORK_CHANGES_5_1.done && (_a = HARDFORK_CHANGES_5.return)) _a.call(HARDFORK_CHANGES_5);\n      } finally {\n        if (e_18) throw e_18.error;\n      }\n    }\n\n    if (value) {\n      return value;\n    }\n\n    return this._chainParams['consensus']['algorithm'];\n  };\n  /**\n   * Returns a dictionary with consensus configuration\n   * parameters based on the consensus algorithm\n   *\n   * Expected returns (parameters must be present in\n   * the respective chain json files):\n   *\n   * ethash: -\n   * clique: period, epoch\n   * aura: -\n   * casper: -\n   *\n   * Note: This value can update along a hardfork.\n   */\n\n\n  Common.prototype.consensusConfig = function () {\n    var e_19, _a;\n\n    var hardfork = this.hardfork();\n    var value;\n\n    try {\n      for (var HARDFORK_CHANGES_6 = __values(hardforks_1.hardforks), HARDFORK_CHANGES_6_1 = HARDFORK_CHANGES_6.next(); !HARDFORK_CHANGES_6_1.done; HARDFORK_CHANGES_6_1 = HARDFORK_CHANGES_6.next()) {\n        var hfChanges = HARDFORK_CHANGES_6_1.value;\n\n        if ('consensus' in hfChanges[1]) {\n          // The config parameter is named after the respective consensus algorithm\n          value = hfChanges[1]['consensus'][hfChanges[1]['consensus']['algorithm']];\n        }\n\n        if (hfChanges[0] === hardfork) break;\n      }\n    } catch (e_19_1) {\n      e_19 = {\n        error: e_19_1\n      };\n    } finally {\n      try {\n        if (HARDFORK_CHANGES_6_1 && !HARDFORK_CHANGES_6_1.done && (_a = HARDFORK_CHANGES_6.return)) _a.call(HARDFORK_CHANGES_6);\n      } finally {\n        if (e_19) throw e_19.error;\n      }\n    }\n\n    if (value) {\n      return value;\n    }\n\n    var consensusAlgorithm = this.consensusAlgorithm();\n    return this._chainParams['consensus'][consensusAlgorithm];\n  };\n  /**\n   * Returns a deep copy of this {@link Common} instance.\n   */\n\n\n  Common.prototype.copy = function () {\n    var copy = Object.assign(Object.create(Object.getPrototypeOf(this)), this);\n    copy.removeAllListeners();\n    return copy;\n  };\n\n  return Common;\n}(events_1.EventEmitter);\n\nexports.default = Common;","map":{"version":3,"mappings":"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","names":["CustomChain","exports","Chain","Hardfork","ConsensusType","ConsensusAlgorithm","__extends","opts","_super","_this","_customChains","customChains","_b","_chainParams","setChain","chain","DEFAULT_HARDFORK","defaultHardfork","_c","Istanbul","hardforks","_e","hf","forkHash","_calcForkHash","name","_hardfork","supportedHardforks","_supportedHardforks","hardfork","setHardfork","eips","setEIPs","Common","chainParamsOrName","baseChain","_a","standardChainParams","_getChainParams","__assign","PolygonMainnet","custom","chainId","networkId","PolygonMumbai","ArbitrumRinkebyTestnet","xDaiChain","OptimisticKovan","Berlin","OptimisticEthereum","Error","customChainParams","initializedChains","Boolean","toString","ethereumjs_util_1","isBN","name_1","plainCustomChains","length","Array","isArray","map","e","required","required_1_1","param","undefined","_isSupportedHardfork","existing","HARDFORK_CHANGES_1_1","hfChanges","emit","blockNumber","td","BN","Chainstart","minTdHF","maxTdHF","previousHF","block","gte","msgAdd","concat","hardforkGteHardfork","msg","getHardforkByBlockNumber","onlySupported","hfs","hfs_1_1","chainName","supportedHf","eip","eips_1","minHF","this_1","gteHardfork","requiredEIPs","forEach","elem","includes","isActivatedEIP","eips_2_1","_eips","topic","value","paramByEIP","paramByHardfork","_chooseHardfork","HARDFORK_CHANGES_2_1","hfEIPs","hfEIPs_1_1","valueEIP","v","eipParams","activeHfs","activeHardforks","HARDFORK_CHANGES_3_1","hfBlock","hardforkBlockBN","hardforkIsActiveOnBlock","hardfork1","hardfork2","onlyActive","posHf1","posHf2","index","hardforks_2_1","_d","hfs_2_1","push","Number","_getHardfork","eq","nextHardforkBlockBN","nextHfBlock","reduce","acc","gt","nextHardforkBlock","genesis","Buffer","from","hash","substr","hfBuffer","alloc","prevBlock","hfBlockBuffer","padStart","inputBuffer","forkhash","data","resArray","filter","require","chainArrayWithGenesis","chainIdBN","networkIdBN","HARDFORK_CHANGES_4_1","HARDFORK_CHANGES_5_1","HARDFORK_CHANGES_6_1","consensusAlgorithm","copy","Object","assign","create","getPrototypeOf","removeAllListeners","events_1"],"sourceRoot":"","sources":["../src/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}