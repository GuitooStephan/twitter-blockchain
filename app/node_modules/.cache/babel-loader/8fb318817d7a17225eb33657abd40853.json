{"ast":null,"code":"var _jsxFileName = \"/Users/zx/Desktop/twitter-blockchain/app/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport Feed from \"./Feed\";\nimport Widgets from \"./Widgets\";\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [correctNetwork, setCorrectNetwork] = useState(false); // Calls Metamask to connect wallet on clicking Connect Wallet button\n\n  const connectWallet = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (!ethereum) {\n        console.log(\"Metamask not detected\");\n        return;\n      }\n\n      let chainId = await ethereum.request({\n        method: \"eth_chainId\"\n      });\n      console.log(\"Connected to chain:\" + chainId);\n      const rinkebyChainId = \"0x3\";\n\n      if (chainId !== rinkebyChainId) {\n        alert(\"You are not connected to the Rinkeby Testnet!\");\n        return;\n      }\n\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      console.log(\"Found account\", accounts[0]);\n      setCurrentAccount(accounts[0]);\n    } catch (error) {\n      console.log(\"Error connecting to metamask\", error);\n    }\n  }; // Checks if wallet is connected to the correct network\n\n\n  const checkCorrectNetwork = async () => {\n    const {\n      ethereum\n    } = window;\n    let chainId = await ethereum.request({\n      method: \"eth_chainId\"\n    });\n    console.log(\"Connected to chain:\" + chainId);\n    const rinkebyChainId = \"0x3\";\n\n    if (chainId !== rinkebyChainId) {\n      setCorrectNetwork(false);\n    } else {\n      setCorrectNetwork(true);\n    }\n  }; // Similar to componentDidMount and componentDidUpdate:\n\n\n  useEffect(() => {\n    connectWallet();\n    checkCorrectNetwork();\n  });\n  return (\n    /*#__PURE__*/\n    // BEM\n    _jsxDEV(\"div\", {\n      children: currentAccount === \"\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-2xl font-bold py-3 px-12 bg-[#f1c232] rounded-lg mb-10 hover:scale-105 transition duration-500 ease-in-out\",\n        onClick: connectWallet,\n        children: \"Connect Wallet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this) : correctNetwork ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app\",\n        children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Feed, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Widgets, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col justify-center items-center mb-20 font-bold text-2xl gap-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"----------------------------------------\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Please connect to the Rinkeby Testnet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"and reload the page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"----------------------------------------\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(App, \"sCc4BogJP9gooVoge+4YyhjeAWg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Sidebar","Feed","Widgets","useState","useEffect","App","currentAccount","setCurrentAccount","correctNetwork","setCorrectNetwork","connectWallet","ethereum","window","console","log","chainId","request","method","rinkebyChainId","alert","accounts","error","checkCorrectNetwork"],"sources":["/Users/zx/Desktop/twitter-blockchain/app/src/App.js"],"sourcesContent":["import React from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport Feed from \"./Feed\";\nimport Widgets from \"./Widgets\";\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\n\nfunction App() {\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [correctNetwork, setCorrectNetwork] = useState(false);\n\n  // Calls Metamask to connect wallet on clicking Connect Wallet button\n  const connectWallet = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (!ethereum) {\n        console.log(\"Metamask not detected\");\n        return;\n      }\n      let chainId = await ethereum.request({ method: \"eth_chainId\" });\n      console.log(\"Connected to chain:\" + chainId);\n\n      const rinkebyChainId = \"0x3\";\n\n      if (chainId !== rinkebyChainId) {\n        alert(\"You are not connected to the Rinkeby Testnet!\");\n        return;\n      }\n\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n\n      console.log(\"Found account\", accounts[0]);\n      setCurrentAccount(accounts[0]);\n    } catch (error) {\n      console.log(\"Error connecting to metamask\", error);\n    }\n  };\n\n  // Checks if wallet is connected to the correct network\n  const checkCorrectNetwork = async () => {\n    const { ethereum } = window;\n    let chainId = await ethereum.request({ method: \"eth_chainId\" });\n    console.log(\"Connected to chain:\" + chainId);\n\n    const rinkebyChainId = \"0x3\";\n\n    if (chainId !== rinkebyChainId) {\n      setCorrectNetwork(false);\n    } else {\n      setCorrectNetwork(true);\n    }\n  };\n\n  // Similar to componentDidMount and componentDidUpdate:\n  useEffect(() => {\n    connectWallet();\n    checkCorrectNetwork();\n  });\n\n  return (\n    // BEM\n    <div>\n      {currentAccount === \"\" ? (\n        <button\n          className=\"text-2xl font-bold py-3 px-12 bg-[#f1c232] rounded-lg mb-10 hover:scale-105 transition duration-500 ease-in-out\"\n          onClick={connectWallet}\n        >\n          Connect Wallet\n        </button>\n      ) : correctNetwork ? (\n        <div className=\"app\">\n          <Sidebar />\n          <Feed />\n          <Widgets />\n        </div>\n      ) : (\n        <div className=\"flex flex-col justify-center items-center mb-20 font-bold text-2xl gap-y-3\">\n          <div>----------------------------------------</div>\n          <div>Please connect to the Rinkeby Testnet</div>\n          <div>and reload the page</div>\n          <div>----------------------------------------</div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}