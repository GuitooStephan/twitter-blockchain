{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar XMLHttpRequestEventTarget =\n/** @class */\nfunction () {\n  function XMLHttpRequestEventTarget() {\n    this.listeners = {};\n  }\n\n  XMLHttpRequestEventTarget.prototype.addEventListener = function (eventType, listener) {\n    eventType = eventType.toLowerCase();\n    this.listeners[eventType] = this.listeners[eventType] || [];\n    this.listeners[eventType].push(listener.handleEvent || listener);\n  };\n\n  XMLHttpRequestEventTarget.prototype.removeEventListener = function (eventType, listener) {\n    eventType = eventType.toLowerCase();\n\n    if (!this.listeners[eventType]) {\n      return;\n    }\n\n    var index = this.listeners[eventType].indexOf(listener.handleEvent || listener);\n\n    if (index < 0) {\n      return;\n    }\n\n    this.listeners[eventType].splice(index, 1);\n  };\n\n  XMLHttpRequestEventTarget.prototype.dispatchEvent = function (event) {\n    var eventType = event.type.toLowerCase();\n    event.target = this; // TODO: set event.currentTarget?\n\n    if (this.listeners[eventType]) {\n      for (var _i = 0, _a = this.listeners[eventType]; _i < _a.length; _i++) {\n        var listener_1 = _a[_i];\n        listener_1.call(this, event);\n      }\n    }\n\n    var listener = this[\"on\" + eventType];\n\n    if (listener) {\n      listener.call(this, event);\n    }\n\n    return true;\n  };\n\n  return XMLHttpRequestEventTarget;\n}();\n\nexports.XMLHttpRequestEventTarget = XMLHttpRequestEventTarget;","map":{"version":3,"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,yBAAyB;AAAG;AAAe,YAAY;EACvD,SAASA,yBAAT,GAAqC;IACjC,KAAKC,SAAL,GAAiB,EAAjB;EACH;;EACDD,yBAAyB,CAACE,SAA1B,CAAoCC,gBAApC,GAAuD,UAAUC,SAAV,EAAqBC,QAArB,EAA+B;IAClFD,SAAS,GAAGA,SAAS,CAACE,WAAV,EAAZ;IACA,KAAKL,SAAL,CAAeG,SAAf,IAA4B,KAAKH,SAAL,CAAeG,SAAf,KAA6B,EAAzD;IACA,KAAKH,SAAL,CAAeG,SAAf,EAA0BG,IAA1B,CAA+BF,QAAQ,CAACG,WAAT,IAAwBH,QAAvD;EACH,CAJD;;EAKAL,yBAAyB,CAACE,SAA1B,CAAoCO,mBAApC,GAA0D,UAAUL,SAAV,EAAqBC,QAArB,EAA+B;IACrFD,SAAS,GAAGA,SAAS,CAACE,WAAV,EAAZ;;IACA,IAAI,CAAC,KAAKL,SAAL,CAAeG,SAAf,CAAL,EAAgC;MAC5B;IACH;;IACD,IAAIM,KAAK,GAAG,KAAKT,SAAL,CAAeG,SAAf,EAA0BO,OAA1B,CAAkCN,QAAQ,CAACG,WAAT,IAAwBH,QAA1D,CAAZ;;IACA,IAAIK,KAAK,GAAG,CAAZ,EAAe;MACX;IACH;;IACD,KAAKT,SAAL,CAAeG,SAAf,EAA0BQ,MAA1B,CAAiCF,KAAjC,EAAwC,CAAxC;EACH,CAVD;;EAWAV,yBAAyB,CAACE,SAA1B,CAAoCW,aAApC,GAAoD,UAAUC,KAAV,EAAiB;IACjE,IAAIV,SAAS,GAAGU,KAAK,CAACC,IAAN,CAAWT,WAAX,EAAhB;IACAQ,KAAK,CAACE,MAAN,GAAe,IAAf,CAFiE,CAE5C;;IACrB,IAAI,KAAKf,SAAL,CAAeG,SAAf,CAAJ,EAA+B;MAC3B,KAAK,IAAIa,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAG,KAAKjB,SAAL,CAAeG,SAAf,CAAtB,EAAiDa,EAAE,GAAGC,EAAE,CAACC,MAAzD,EAAiEF,EAAE,EAAnE,EAAuE;QACnE,IAAIG,UAAU,GAAGF,EAAE,CAACD,EAAD,CAAnB;QACAG,UAAU,CAACC,IAAX,CAAgB,IAAhB,EAAsBP,KAAtB;MACH;IACJ;;IACD,IAAIT,QAAQ,GAAG,KAAK,OAAOD,SAAZ,CAAf;;IACA,IAAIC,QAAJ,EAAc;MACVA,QAAQ,CAACgB,IAAT,CAAc,IAAd,EAAoBP,KAApB;IACH;;IACD,OAAO,IAAP;EACH,CAdD;;EAeA,OAAOd,yBAAP;AACH,CApC8C,EAA/C;;AAqCAF,OAAO,CAACE,yBAAR,GAAoCA,yBAApC","names":["XMLHttpRequestEventTarget","eventType","listener","toLowerCase","listeners","push","handleEvent","index","indexOf","splice","event","type","target","_i","listener_1","call","exports"],"sourceRoot":"","sources":["../xml-http-request-event-target.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}